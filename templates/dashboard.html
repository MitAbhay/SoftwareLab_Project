{% extends 'base.html' %}
{% block content %}
  <h2>Dashboard â€” Avg Rainfall by Crop</h2>
  <div id="chart"></div>
  <script>
    const data = {{ chart_data|tojson }};
    const x = data.map(d => d.crop);
    const y = data.map(d => d.avg_rainfall);
    const trace = { x: x, y: y, type: 'bar' };
    Plotly.newPlot('chart', [trace], {title: 'Average Rainfall by Crop'});
  </script>
{% endblock %}
